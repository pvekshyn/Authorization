parameters:
  - name: manifestsFolder
    type: string
    default: 'world'

steps:
  - task: CopyFiles@2
    displayName: 'Copy Manifests'
    inputs:
      SourceFolder: ${{ parameters.manifestsFolder }}
      Contents: |
        service.yml
        deployment.yml
      TargetFolder: '$(Build.ArtifactStagingDirectory)'

  - task: PublishPipelineArtifact@1
    displayName: 'Publish Manifest Artifact'
    inputs:
      targetPath: $(build.artifactStagingDirectory)
      artifact: 'manifestDrop'
      publishLocation: 'pipeline'