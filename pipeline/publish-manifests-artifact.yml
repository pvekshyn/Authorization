parameters:
  - name: manifestsFolder
    type: string

steps:
  - task: CopyFiles@2
    displayName: 'Copy Manifests'
    inputs:
      SourceFolder: ${{ parameters.manifestsFolder }}
      Contents: |
        service.yml
        deployment.yml
      TargetFolder: '$(Build.ArtifactStagingDirectory)/manifests'

  - task: PublishPipelineArtifact@1
    displayName: 'Publish Manifest Artifact'
    inputs:
      targetPath: $(build.artifactStagingDirectory)/manifests
      artifact: 'manifestDrop'
      publishLocation: 'pipeline'